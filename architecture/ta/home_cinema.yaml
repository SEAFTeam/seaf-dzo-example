# Далее идёт описание технологической архитектуры для ООО Берёзка.
# Описание технологической архитектуры идёт сверху вниз. Начиная с описания Регионов, ЦОДов, зон доступности и т.д.

#### Создаём клиентских устройств
seaf.ta.components.user_device:
  sber.berezka.user_device.laptop:
    user_device_id: user_device.laptop
    name: Ноутбуки сотрудников
    device_type: Внешнее устройство
    description: Клиентский ноутбук сотрудника

#### Создаём Регион
seaf.ta.services.dc_region:
  sber.berezka.dc_region.russia:
    region_id: dc_region.russia
    region_name: Регион Россия
    title: Регион доступности Россия ООО Березка
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app
      - sber.berezka.home_cinema.canals.app
      - sber.berezka.home_cinema.payments.app

#### Создаём AZ
seaf.ta.services.dc_az:
  sber.berezka.dc_az.moscow:
    az_name: Зона доступности Москва
    region_id: sber.berezka.dc_region.russia
    az_vendor: Березка
    availabilityzone_id: dc_az.moscow
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app
      - sber.berezka.home_cinema.canals.app
      - sber.berezka.home_cinema.payments.app
#### Создаём ЦОД
seaf.ta.services.dc:
  sber.berezka.dc.01:
    dc_id: dc.01
    dc_name: Sber Cloud DC
    dc_vendor: Sber
    dc_type: Основной
    dc_address: Огородный проезд
    dc_rack_qty: 5
    dc_tier: '3'
    dc_ownership: Аренда
    availabilityzone_id: sber.berezka.dc_az.moscow
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app

  sber.berezka.dc.02:
    dc_id: dc.02
    dc_name: VK DC
    dc_vendor: Mail
    dc_type: Основной
    dc_address: Садовый проездц
    dc_rack_qty: 0
    availabilityzone_id: sber.berezka.dc_az.moscow
    dc_tier: '3'
    dc_ownership: Аренда
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app
#### Создаём офис
seaf.ta.services.office:
  sber.berezka.office.hq:
    office_id: office.hq
    name: Головной офис
    address: Берёзовый бульвар, д.14

#### Создаём сервис виртуализации
seaf.ta.services.cluster_virtualization:
  sber.berezka.cluster_virtualization.cloud.01:
    cluster_description: Кластер виртуализации в облаке Cloud
    virtualization_id: cluster_virtualization.cloud.01
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app
    drs_support: true
    sdrs_support: true
    name: Кластер виртуализации в облаке Cloud
    oversubscription_rate: 1

  sber.berezka.cluster_virtualization.cloud.02:
    cluster_description: Собственный кластер виртуализации в облаке Cloud
    virtualization_id: cluster_virtualization.cloud.02
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app
    drs_support: true
    sdrs_support: true
    cluster_fqdn: vcenter.berezka.ru
    cluster_reservation_type: Active-Active
    hypervisor: ESX
    oversubscription_rate: 1
    server_id:
      - sber.berezka.server_metal.01
      - sber.berezka.server_metal.02
      - sber.berezka.server_metal.03
      - sber.berezka.server_metal.04
      - sber.berezka.server_metal.05
      - sber.berezka.server_metal.06
    name: Собственный кластер виртуализации в облаке Cloud

  sber.berezka.cluster_virtualization.vk.01:
    cluster_description: Кластер виртуализации в облаке VK
    virtualization_id: cluster_virtualization.vk.01
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app
    drs_support: true
    sdrs_support: true
    name: Кластер виртуализации в облаке VK
    oversubscription_rate: 1

#### Создаём описание сетевых устройств
seaf.ta.components.network:
  sber.berezka.network.cisco.01:
    name: Cisco ASR 1001-X
    realization_type: Физический
    model: ASR 1001-X
    dc_id: sber.berezka.dc.01
    network_appliance_id: cisco.01
    placement_type: Периметр
    purpose: Пограничный маршрутизатор
    address: 192.168.1.1

  sber.berezka.network.fortigate.01:
    name: FortiGate 4800F
    realization_type: Физический
    model: 4800F
    dc_id: sber.berezka.dc.01
    network_appliance_id: fortigate.01
    placement_type: Периметр
    purpose: Пограничный маршрутизатор
    address: 10.10.10.1

  sber.berezka.network.fortigate.02:
    name: FortiGate 4800F
    realization_type: Физический
    model: 4800F
    network_appliance_id: fortigate.02
    placement_type: Периметр
    purpose: Пограничный маршрутизатор
    address: 10.10.10.1
    office: office.hq

#### Создаём описание VPN шлюза
  sber.berezka.network.cisco.02:
    name: Cisco ASR 1001-X
    realization_type: Физический
    model: ASR 1001-X
    dc_id: sber.berezka.dc.01
    network_appliance_id: cisco.02
    placement_type: Периметр
    purpose: VPN шлюз
    address: 192.168.1.2

  sber.berezka.network.cisco.03:
    name: Cisco ASR 1001-X
    realization_type: Физический
    model: ASR 1001-X
    office: office.hq
    network_appliance_id: cisco.03
    placement_type: Периметр
    purpose: VPN шлюз
    address: 192.168.1.2
#### Создаём описание сетей
seaf.ta.services.network:
#### Создаём описание внутренних сети
  sber.berezka.lan.192.168.1.0:
    network_id: lan.192.168.1.0
    type: LAN
    segment: Сегмент обработки данных
    lan_type: Проводная
    ipnetowrk: 192.168.1.0/24
    network_appliance_id:
      - sber.berezka.network.cisco.01
    description: Сеть внутри co-location Cloud
    dc_id:
      - sber.berezka.dc.01
    vlan: 160

  sber.berezka.lan.192.168.2.0:
    network_id: lan.192.168.2.0
    type: LAN
    segment: Сегмент обработки данных
    lan_type: Проводная
    ipnetowrk: 192.168.2.0/24
    network_appliance_id:
      - sber.berezka.network.cisco.01
    description: Сеть внутри Cloud
    dc_id:
      - sber.berezka.dc.01
    vlan: 150

  sber.berezka.lan.192.168.3.0:
    network_id: lan.192.168.3.0
    type: LAN
    segment: Сегмент обработки данных
    lan_type: Проводная
    ipnetowrk: 192.168.3.0/24
    network_appliance_id:
      -
    description: Сеть внутри VK
    dc_id:
      - sber.berezka.dc.02
    vlan: 110

  sber.berezka.lan.192.168.4.0:
    network_id: lan.192.168.4.0
    type: LAN
    segment: Клиентский
    lan_type: Проводная
    ipnetowrk: 192.168.4.0/24
    network_appliance_id:
      - sber.berezka.network.cisco.03
    description: Сеть внутри головного офиса
    office_id: sber.berezka.office.hq
    vlan: 1

#### Создаём описание внешних сетей
  sber.berezka.wan.1.1.1.0:
    provider: RT
    bandwidth: 1000
    network_appliance_id:
      - sber.berezka.network.cisco.01
    wan_ip: 1.1.1.0/28
    network_id: wan.1.1.1.0
    type: WAN
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    dc_id:
      - sber.berezka.dc.01
  sber.berezka.wan.1.1.1.16:
    provider: RT
    bandwidth: 1000
    network_appliance_id:
      - sber.berezka.network.cisco.02
    wan_ip: 1.1.1.16/28
    network_id: wan.1.1.1.16
    type: WAN
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    dc_id:
      - sber.berezka.dc.01
  sber.berezka.wan.2.2.2.0:
    provider: Cloud
    bandwidth: 1000
    network_appliance_id:
      -
    wan_ip: 2.2.2.0/28
    network_id: wan.2.2.2.0
    type: WAN
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    dc_id:
      - sber.berezka.dc.01
  sber.berezka.wan.1.1.1.48:
    provider: VK
    bandwidth: 1000
    network_appliance_id:
      -
    wan_ip: 1.1.1.48/28
    network_id: wan.1.1.1.48
    type: WAN
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    dc_id:
      - sber.berezka.dc.02
  sber.berezka.wan.1.1.1.32:
    provider:  MTS
    bandwidth: 100
    network_appliance_id:
      - sber.berezka.network.cisco.03
    wan_ip: 1.1.1.32/28
    network_id: wan.1.1.1.32
    type: WAN
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    office_id: sber.berezka.office.hq

#### Создаём описание пограничных сетей
  sber.berezka.dmz.10.10.10.0:
    vlan: 100
    ipnetowrk: 10.10.10.0/24
    purpose: DMZ сеть
    type: LAN
    lan_type: Проводная
    segment: Буферный (DMZ)
    network_id: dmz.10.10.10.0
    network_appliance_id:
      - sber.berezka.network.fortigate.01
    dc_id:
      - sber.berezka.dc.01
    availabilityzone_id:
      - sber.berezka.dc_az.moscow

#### Создаём описание линков
seaf.ta.services.network_links:
  sber.berezka.network_links.vk_cloud:
    network_appliance_id:
      - sber.berezka.network.cisco.02
    type: VPN Site-to-site
    networklinks_id: network_links.vk_cloud
    ch_type: Основной
    description: Связь между VK и Cloud
    bandwidth: 100
    ch_number: 600
    provider: МТС


  sber.berezka.network_links.cloud_hq:
    network_appliance_id:
      - sber.berezka.network.cisco.01
      - sber.berezka.network.cisco.03
    type: VPN Site-to-site
    networklinks_id: network_links.cloud_hq
    ch_type: Основной
    description: Связь между Cloud и головным офисом
    bandwidth: 100
    ch_number: 700
    provider: МТС

  sber.berezka.network_links.cloud_laptop:
    network_appliance_id:
      - sber.berezka.user_device.laptop
      - sber.berezka.network.cisco.03
    type: SSL VPN
    networklinks_id: network_links.cloud_laptop
    ch_type: Основной
    description: Связь между Cloud и клиентскими устройствами
    bandwidth: 10
    ch_number: 800
    provider: МТС

#### Создаём описание любых серверов
seaf.ta.components.server:
#### Создаём описание физических серверов
  sber.berezka.server_metal.01:
    server_id: server_metal.01
    fqdn_name: server_metal.01.berezka.ru
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
      - disk1:
          availabilityzone_id: dc_az.moscow
          size: 101
          type: SATA
    nic_qty: 4
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    ram_qty: 128
    dc_id: sber.berezka.dc.02
    vendor: HP
    type: Физический
    model: DL360 G8
    storage_id: sber.berezka.hw_storage.01
    network_connection: sber.berezka.lan.192.168.2.0
  sber.berezka.server_metal.02:
    server_id: server_metal.02
    fqdn_name: server_metal.02.berezka.ru
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    nic_qty: 4
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    ram_qty: 128
    dc_id: sber.berezka.dc.02
    vendor: HP
    type: Физический
    model: DL360 G8
    storage_id: sber.berezka.hw_storage.01
  sber.berezka.server_metal.03:
    server_id: server_metal.03
    fqdn_name: server_metal.03.berezka.ru
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    nic_qty: 4
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    ram_qty: 128
    dc_id: sber.berezka.dc.02
    vendor: HP
    type: Физический
    model: DL360 G8
    storage_id: sber.berezka.hw_storage.01
  sber.berezka.server_metal.04:
    server_id: server_metal.04
    fqdn_name: server_metal.04.berezka.ru
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    nic_qty: 4
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    ram_qty: 128
    dc_id: sber.berezka.dc.02
    vendor: HP
    type: Физический
    model: DL360 G8
    storage_id: sber.berezka.hw_storage.01
  sber.berezka.server_metal.05:
    server_id: server_metal.05
    fqdn_name: server_metal.05.berezka.ru
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    nic_qty: 4
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    ram_qty: 128
    dc_id: sber.berezka.dc.02
    vendor: HP
    type: Физический
    model: DL360 G8
    storage_id: sber.berezka.hw_storage.01
  sber.berezka.server_metal.06:
    server_id: server_metal.06
    fqdn_name: server_metal.06.berezka.ru
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    nic_qty: 4
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    ram_qty: 128
    dc_id: sber.berezka.dc.02
    vendor: HP
    type: Физический
    model: DL360 G8
    storage_id: sber.berezka.hw_storage.01
  sber.berezka.server_metal.07:
    server_id: server_metal.07
    fqdn_name: server_metal.07.berezka.ru
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    nic_qty: 4
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    ram_qty: 128
    dc_id: sber.berezka.dc.02
    vendor: HP
    type: Физический
    model: DL360 G8
    storage_id: sber.berezka.hw_storage.01
  sber.berezka.server_metal.08:
    server_id: server_metal.08
    fqdn_name: server_metal.08.berezka.ru
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    nic_qty: 4
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    ram_qty: 128
    dc_id: sber.berezka.dc.02
    vendor: HP
    type: Физический
    model: DL360 G8
    storage_id: sber.berezka.hw_storage.01
#### Создаём описание виртуальных серверов
#### Сервера для прикладного компонента Авторизация
  sber.berezka.server_virtual.01:
    server_id: server_virtual.01
    fqdn_name: server_virtual.01.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.cloud.01
    disks:
      - disk0:
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
      - disk1:
          availabilityzone_id: dc_az.moscow
          size: 101
          type: SATA
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для прикладного компонента Авторизация
  sber.berezka.server_virtual.02:
    server_id: server_virtual.02
    fqdn_name: server_virtual.02.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.cloud.01
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для прикладного компонента Авторизация
  sber.berezka.server_virtual.03:
    server_id: server_virtual.03
    fqdn_name: server_virtual.03.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.vk.01
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для прикладного компонента Авторизация
  sber.berezka.server_virtual.04:
    server_id: server_virtual.04
    fqdn_name: server_virtual.04.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.vk.01
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для прикладного компонента Авторизация
#### Сервера для k8s кластера
  sber.berezka.server_virtual.05:
    server_id: server_virtual.05
    fqdn_name: server_virtual.05.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.cloud.02
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для кластера K8s
  sber.berezka.server_virtual.06:
    server_id: server_virtual.06
    fqdn_name: server_virtual.06.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.cloud.02
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для кластера K8s
  sber.berezka.server_virtual.07:
    server_id: server_virtual.07
    fqdn_name: server_virtual.07.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.cloud.02
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для кластера K8s
  sber.berezka.server_virtual.08:
    server_id: server_virtual.08
    fqdn_name: server_virtual.08.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.cloud.02
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для кластера K8s
  sber.berezka.server_virtual.09:
    server_id: server_virtual.09
    fqdn_name: server_virtual.09.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.cloud.02
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для кластера K8s
  sber.berezka.server_virtual.10:
    server_id: server_virtual.10
    fqdn_name: server_virtual.10.berezka.ru
    virtualization_id: sber.berezka.cluster_virtualization.cloud.02
    disks:
      - disks :
          availabilityzone_id: dc_az.moscow
          size: 100
          type: SSD
    ram_qty: 16
    nic_qty: 2
    type: Виртуальный
    os:
      name: 'Ubuntu 18.04'
      bit: '64'
    cpu:
      cores: 4
      frequency: 1700
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    description: Сервер приложений для кластера K8s

#### Создаём описание СХД
#### Создаём описание аппаратных СХД
seaf.ta.components.hw_storage:
  sber.berezka.hw_storage.01:
    volume: 10000
    dc_id: sber.berezka.dc.01
    storage_id: hw_storage.01
    vendor: IBM Storwize 7000
    disk_type: SSD
    protocols: FC, Ethernet

#### Создаём описание программных СХД
seaf.ta.services.storage:
  sber.berezka.sw_storage.01:
    volume: 1000
    software: CEPH
    storage_id: sw_storage.01
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    server_id:
      - sber.berezka.server_metal.07
      - sber.berezka.server_metal.08
    disk_type: SSD
    protocols: SMB, S3
    type: Software Defined Storage
    erasure_coding: 2

  #### Создаём описание объектных хранилищ
  sber.berezka.obj_storage.cloud_s3:
    name: S3 Cloud
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    type: Simple Storage Service
    sla: 99
    software: SaaS
    storage_id: obj_storage.cloud_s3
    app_components:
      - sber.berezka.home_cinema.catalog.app
  sber.berezka.obj_storage.vk_s3:
    name: S3 VK
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    type: Simple Storage Service
    sla: 99
    software: SaaS
    storage_id: obj_storage.vk_s3
    app_components:
      - sber.berezka.home_cinema.catalog.app
#### Создаём описание кластеров
seaf.ta.services.cluster:
  sber.berezka.cluster.01:
    cluster_id: cluster.01
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    app_components:
      - sber.berezka.home_cinema.catalog.app
      - sber.berezka.home_cinema.canals.app
    server_id:
      - sber.berezka.server_virtual.01
      - sber.berezka.server_virtual.02
      - sber.berezka.server_virtual.03
      - sber.berezka.server_virtual.04
    cluster_fqdn: wildfly.berezka.ru
    cluster_reservation_type: Active-Active
    description: Wildfly cluster for sber.berezka.home_cinema.catalog.app
    requirements:
      - ta.requirement1
      - ta.requirement2

      #### Создаём описание кластеров K8s
seaf.ta.services.k8s:
  sber.berezka.k8s.01:
    master_qty: 3
    software: '1.28'
    kubernetes_id: k8s.01
    auth: Keycloack
    cluster_fqdn: k8s.01.berezka.ru
    worker_qty: 2
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    cni:  Calico
    is_own: false
    cluster_autoscaler: true
    service_mesh: Istio
    hpa: true
    keys: Vault
    policy: Kyverno
    server_id:
      - sber.berezka.server_virtual.05
      - sber.berezka.server_virtual.06
      - sber.berezka.server_virtual.07
      - sber.berezka.server_virtual.08
      - sber.berezka.server_virtual.09
      - sber.berezka.server_virtual.10
    app_components:
      - sber.berezka.home_cinema.payments.app

  sber.berezka.k8s.02:
    master_qty: 3
    software: '1.28'
    kubernetes_id: k8s.02
    auth: Keycloack
    cluster_fqdn: k8s.02.berezka.ru
    worker_qty: 2
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    cni:  Calico
    is_own: false
    cluster_autoscaler: true
    service_mesh: Istio
    hpa: true
    keys: Vault
    policy: Kyvernow
    server_id:
      - sber.berezka.server_virtual.05
      - sber.berezka.server_virtual.06
      - sber.berezka.server_virtual.07
      - sber.berezka.server_virtual.08
      - sber.berezka.server_virtual.09
      - sber.berezka.server_virtual.10
    app_components:
      - sber.berezka.home_cinema.auth.app

#### Создаём описание сервиса мониторинга
seaf.ta.services.monitoring:
  sber.berezka.monitoring.01:
    name: Zabbix
    monitoring_id: monitoring.01
    ha: false
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    role: Инфраструктурный
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app
      - sber.berezka.home_cinema.canals.app
      - sber.berezka.home_cinema.payments.app

#### Создаём описание сервиса резервного копирования
seaf.ta.services.backup:
  seaf.ta.services.backup.01:
    name: Acronis
    backup_id: backup.01
    path: sw_storage.01
    schedule: Ежедневно
    availabilityzone_id:
      - sber.berezka.dc_az.moscow
    replication: false
    app_components:
      - sber.berezka.home_cinema.auth.app
      - sber.berezka.home_cinema.auth.token_manager
      - sber.berezka.home_cinema.catalog.app
      - sber.berezka.home_cinema.payments.app
      - sber.berezka.home_cinema.canals.app
#### Создаём описание лицензий
seaf.ta.services.software:
  seaf.ta.services.licenses.acronis:
    software_id: licenses.acronis
    vendor: Acronis
    name: СРК Acronis
    expiration: eternal
    type: Закрытая платная
    support: Expired
  seaf.ta.services.licenses.cryptopro:
    software_id: licenses.cryptopro
    vendor: CryptoPro
    name: КриптоПро
    expiration: eternal
    type: Закрытая платная
    support: Expired
    app_components:
      - sber.berezka.home_cinema.payments.app
    lic_qty: 10
